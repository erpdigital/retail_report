{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2024-06-17 18:46:25.938486",
 "css": "",
 "custom_format": 1,
 "default_print_language": "ru",
 "disabled": 1,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "<style>\r\n{% if frappe.form_dict.get(\"_lang\", doc.language) == \"zh\" %}\r\n.document-title {\r\n    padding-top: 6mm;\r\n    font-family: 'Noto Sans SC','Open Sans Condensed',sans-serif;\r\n    font-size: 18pt;\r\n}\r\n{% else %}\r\n.document-title {\r\n    padding-top: 6mm;\r\n    font-family: 'Open Sans Condensed',sans-serif;\r\n    font-size: 18pt;\r\n}\r\n{% endif %}\r\nth, td {\r\n    border: 1px solid black;\r\n}\r\n.table {\r\n    margin: 0px !important;\r\n}\r\n</style>\r\n{% set customer = frappe.get_doc(\"Customer\", doc.customer) %}\r\n{% if doc.driver %}\r\n{% set driver = frappe.get_doc(\"Driver\", doc.driver) %}\r\n{% endif %}\r\n{% if doc.\u043c\u0430\u0448\u0438\u043d\u0430 %}\r\n{% set car = frappe.get_doc(\"Vehicle\", doc.\u043c\u0430\u0448\u0438\u043d\u0430) %}\r\n{% endif %}\r\n{% set sales_persont = doc.sales_team[0] if doc.sales_team else '' %}\r\n<!--Don't use variables above -->\r\n<!--get customer salutation, firstnam and company -->    \r\n{% set company = frappe.get_doc(\"Company\", doc.company) %}\r\n<!--set headers -->  \r\n{% set quotation_date = 'Date' %}\r\n{% set sales_order_po_date = 'Date of order' %}\r\n{% set customer_reference = 'Customer reference' %}\r\n{% set invoice_payment_due =  \"Payment due date\" %}\r\n{% set page_num = 'Page' %}\r\n{% set best_regards = 'Best regards' %}\r\n{% set invoice_performance_date = 'Performance date' %}\r\n{% set header_phone = 'Phone' %}\r\n{% set header_fax = 'Fax' %}\r\n{% set header_email = 'Email' %}\r\n{% set header_web = 'Web' %}\r\n{% set shipping_address = 'Shipping address' %}\r\n{% set header_ceo = 'Authorised representative' %}\r\n<!--get company address -->  \r\n{% block javascript %}\r\n<script type=\"text/javascript\">\r\n    document.getElementsByClassName('read-mode')[0].innerText = \"Hi\";\r\n</script>\r\n{% endblock %}\r\n{% set company_address_name = frappe.db.get_value(\"Dynamic Link\", filters={\"link_doctype\": \"Company\", \"link_name\": doc.company, \"parenttype\": \"Address\"}, fieldname=\"parent\") %}\r\n{% set cmp_addr = frappe.get_doc(\"Address\", company_address_name) if company_address_name else None %}\r\n\r\n{% set customer = frappe.get_doc(\"Customer\", doc.customer) %}\r\n\r\n{% set customer_address_name = frappe.db.get_value(\"Dynamic Link\", filters={\"link_doctype\": \"Customer\", \"link_name\": doc.customer, \"parenttype\": \"Address\"}, fieldname=\"parent\") %}\r\n{% set customer_addr = frappe.get_doc(\"Address\", customer_address_name) if customer_address_name else None %}\r\n{% if contact %}\r\n\r\n{% set customer_salutation = _(contact.salutation) %}\r\n{% set customer_first_name = contact.first_name %}\r\n{% set customer_last_name =  contact.last_name %}\r\n{% set customer_gender = contact.gender %}\r\n{% else %}\r\n{% set name = customer.customer_name %}\r\n{% set customer_salutation = _(customer.salutation) %}\r\n{% set customer_gender = customer.gender %}\r\n{% set customer_first_name = name[0] %}\r\n{% set customer_last_name =  name[1] if name|length > 1 else '' %}\r\n{% endif %}\r\n<!--set addressing -->\r\n{% set addressing_sir_or_madam = 'Dear Sir or Madam' %}\r\n{% if frappe.form_dict.get(\"_lang\", doc.language) == \"de\" %}\r\n{% set addressing_dear = 'Sehr geehrte/Sehr geehrter' %}\r\n{% elif frappe.form_dict.get(\"_lang\", doc.language) == \"ru\" %}\r\n{% set addressing_dear = '\u0423\u0432\u0430\u0436\u0430\u0435\u043c\u0430\u044f/\u0423\u0432\u0430\u0436\u0430\u0435\u043c\u044b\u0439' %}\r\n{% elif frappe.form_dict.get(\"_lang\", doc.language) == \"fr\" %}\r\n{% set addressing_dear = 'Cher/Ch\u00e8re' %}\r\n{% else %}\r\n{% set addressing_dear = 'Dear' %}\r\n{% endif %}\r\n<!--get label -->\r\n{% set l_sales = 'Contact Person' %}\r\n{% set l_customer = 'Customer' %}\r\n<h2 class=\"document-title\">\r\n    <div style=\"text-align: center;\">\r\n        <img alt=\"Default Letter Head DE\" src=\"/files/tolkun.png\" style=\"width: 100px;\" width=\"100\"><br>\r\n        {% if doc.select_print_heading %}\r\n            {{ doc.select_print_heading }}\r\n        {% else %}\r\n            {{ _(doc.doctype) }}\r\n        {% endif %} \r\n        {{ doc.name }}  \r\n    </div>\r\n</h2>\r\n<div class=\"page-break\">\r\n    <!-- HEAD -->\r\n    <!-- FOOTER -->\r\n    <div id=\"footer-html\" class=\"visible-pdf\">\r\n        <span id=\"pagenum\" class=\"small page-number visible-pdf pull-right\">\r\n            {{ _(page_num) }}: {{ _(\"{0}/{1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\r\n        </span>\r\n    </div>\r\n    <div class=\"sender_receiver\">\r\n        <!-- Customer -->\r\n        <div id=\"receiver\" style=\"\">\r\n            <b style=\"font-size: 12pt;\">{{ _(\"Supplier\") }} :  {{ company.ceo }} </b><br>\r\n           \r\n            <b style=\"font-size: 12pt;\">{{ _(\"Customer\") }} : \r\n            {% if customer %}\r\n                {{ name }} \r\n            {% endif %}\r\n            {% if customer %} {{  customer.mobile }} {% endif %}\r\n            {% if customer %}\r\n                <br><b style=\"font-size: 12pt;\">{{ _(\"Address\") }} : \r\n            {{ customer.address }}\r\n            {% endif %}\r\n           \r\n            \r\n            </b><br>\r\n               {% if driver %}\r\n            <b style=\"font-size: 12pt;\">{{ _(\"Driver\") }} :  {{ driver.full_name }}   &emsp; {{ \"   A/U  \" }}  \r\n            {% if car %}\r\n            {{ car.name }}\r\n            {% endif %}\r\n            </b><br>\r\n            {% endif %}\r\n            {% if sales_persont %}\r\n                <b style=\"font-size: 12pt;\">{{ _(\"\u0422\u043e\u0440\u0433\u043e\u0432\u044b\u0439 \u0430\u0433\u0435\u043d\u0442\") }} :  {{ sales_persont.sales_person }} </b><br>\r\n            {% endif %}\r\n        </div>\r\n    </div>\r\n    <!-- CONTENT -->\r\n    <div id=\"text\">\r\n        <div class=\"row\" style=\"font-size: 7pt; padding-top: 3mm;\">\r\n            {% if doc.posting_date %}\r\n            <div class=\"col-xs-2\">\r\n                <strong>{{ _(quotation_date) }}: </strong>\r\n                <p>{{ frappe.utils.formatdate(doc.posting_date, \"dd.mm.yyyy\") }}\r\n                <p>\r\n            </div>\r\n            {% endif %}\r\n            {% if doc.due_date %}\r\n            <div class=\"col-xs-2\">\r\n                <strong>{{ _(\"\u0414\u0430\u0442\u0430 \u043e\u043f\u043b\u0430\u0442\u044b\") }}: </strong>\r\n                <p>{{ frappe.utils.formatdate(doc.due_date, \"dd.mm.yyyy\") }}\r\n                <p>\r\n            </div>\r\n            {% endif %}\r\n        </div>\r\n        {% set hasDiscount = [] %}\r\n        <!-- Preproccessing -->\r\n        {% for n in doc.items %}\r\n        {% if n.get(\"discount_percentage\") %} \r\n        {% set temp = hasDiscount.append(TRUE) %}\r\n        {% endif %}\r\n        {% endfor  %}\r\n        <table class=\"text-small\" style=\"font-size: 9pt;width: 100%; table-layout: auto;\">\r\n            <thead class=\"black-border\">\r\n                <tr style=\"border-bottom: 2px solid black;\">\r\n                    <th style=\"width: 5%\" class=\"text-center\">{{ _(\"\u2116\") }}</th>\r\n                    <th style=\"width: 10%\" class=\"text-center\">{{ _(\"\u0410\u0440\u0442\u0438\u043a\u0443\u043b\") }}</th>\r\n                    <th style=\"width: 45%\" class=\"text-center\">{{ _(\"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u044f\") }}</th>\r\n                    <th style=\"width: 10%; \" class=\"text-center\" >{{ _(\"\u041a\u043e\u043b-\u0432\u043e \u0420\u0430\u0437\u0433\u0440\u0443\u0437\u043a\u0438\") }}</th>\r\n                    <th style=\"width: 10%; \" class=\"text-center\">{{ _(\"\u041a\u043e\u043b-\u0432\u043e \u043d\u0430 \u043e\u0446\u0435\u043d\u043a\u0443 \") }}</th>\r\n                    <th style=\"width: 15%; \" class=\"text-center\">{{ _(\"Price\") }}(TMM)</th>\r\n                    <th style=\"width: 15%; \" class=\"text-right\">{{ _(\"Amount\") }}(TMM)</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {% for n in doc.items %}\r\n                <tr style=\"border-top: 1px solid black;\">\r\n                    <td style=\"width: 5%\" class=\"text-left\">{{ loop.index }}</td>\r\n                    <td style=\"width: 25%\" class=\"text-left\">{{ _(n.item_code) }}</td>\r\n                    <td style=\"width: 35%\"  class=\"text-left\"> {{ _(n.item_name) }}  </td>\r\n                    <td style=\"width: 10%;  border: 3px solid black;\"  class=\"text-left\" > \r\n            \r\n                        {% if n.qty%1 != 0 %}\r\n                            {{ n.qty|float }}\r\n                        {% else %}\r\n                            {{ n.qty|int }}\r\n                        {% endif %}\r\n                        {{ n.uom }}\r\n                    \r\n                    </td>\r\n                    <td style=\"width: 10%; \"  class=\"text-left\" > \r\n                       {% if n.stock_uom != n.uom and n.uom != \"\u0411\u043b\u043e\u043a\" %}\r\n                          \r\n                        {% if n.qty%1 != 0 %}\r\n                           {% set qty = n.qty * n.conversion_factor|float  %}\r\n                            {{ qty|int }}\r\n                        {% else %}\r\n                         {% set qty = n.qty * n.conversion_factor|int  %}\r\n                            {{ qty|int }}\r\n                        {% endif %}\r\n                        {{ n.stock_uom }}\r\n                        {% else  %}\r\n                        \r\n                        \r\n                        {% if n.qty%1 != 0 %}\r\n                            {{ n.qty|float }}\r\n                        {% else %}\r\n                            {{ n.qty|int }}\r\n                        {% endif %}\r\n                        {{ n.uom }}\r\n                        \r\n                        {% endif %}\r\n</td>\r\n                    <td style=\"width: 15%; \" class=\"text-left\">\r\n                        {% if n.stock_uom != n.uom and n.uom != \"\u0411\u043b\u043e\u043a\" %}\r\n                         {{ '%0.2f'| format(n.stock_uom_rate|float)  }} \r\n                         {% else %}\r\n                         {{ '%0.2f'| format(n.rate|float)  }}\r\n                        {% endif %}\r\n                    </td>\r\n                    <td style=\"width: 15%; \" class=\"text-left\"> {{ '%0.2f'| format(n.amount|float)  }}\r\n                    </td>\r\n                </tr>\r\n                {% endfor %}\r\n            </tbody>\r\n        </table>\r\n        <div class=\"row total\" style=\"font-size: 9pt;\">\r\n            <div class= \"col-xs-7 pull-left\" style=\" text-decoration: underline;\">\r\n                <b style=\"font-size: 14 pt; margin-top: 10mm;\" > {{ _(\"\u0412\u0441\u0435\u0433\u043e \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0439 \") }} {{ doc.items|length }}, {{ _(\"\u043d\u0430 \u0441\u0443\u043c\u043c\u0443 \") }} {{ '%0.2f'| format(doc.net_total|float) }}   M </b>\r\n            </div>\r\n            <div class=\"col-xs-5 pull-right\">\r\n                <table class=\"table table-condensed\">\r\n                    {% if doc.additional_discount_percentage %}\r\n                    <tr>\r\n                        <td style=\"border-top: 2px solid black;\">{{ _(\"Total\") }}</td>\r\n                        <td class=\"text-right\" style=\"border-top: 2px solid black;\">{{ doc.get_formatted(\"total\") }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{{ _(\"Discount\") }} {{ doc.get_formatted(\"additional_discount_percentage\") }} &percnt;</td>\r\n                        <td class=\"text-right\">\r\n                            {{ doc.get_formatted(\"discount_amount\") }}\r\n                        </td>\r\n                    </tr>\r\n                    {% endif %}\r\n                    <tr>\r\n                        <td>{{ _(\"\u0418\u0442\u043e\u0433\u043e\") }}</td>\r\n                        <td class=\"text-right\">   {{ '%0.2f'| format(doc.net_total|float) }}  \r\n                        </td>\r\n                    <tr>\r\n                        {% if doc.previous_credit %}\r\n                        {% set credit = doc.previous_credit|float %}\r\n                    <tr>\r\n                        <td>{{ _(\"\u0417\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c\") }}</td>\r\n                        <td class=\"text-right\">  {{ '%0.2f'| format(credit|float) }}  \r\n                        </td>\r\n                    </tr>\r\n                    {% endif %}\r\n                    {% for tax_row in doc.taxes -%}\r\n                    {% if tax_row.tax_amount or print_settings.print_taxes_with_zero_amount %}\r\n                    <tr>\r\n                        <td>\r\n                            {{ _(tax_row.description) }}\r\n                        </td>\r\n                        <td class=\"text-right\">\r\n                            {{ tax_row.get_formatted(\"tax_amount\") }}\r\n                        </td>\r\n                    </tr>\r\n                    {% endif %}\r\n                    {%- endfor %}\r\n                    <tr style=\"border-top: 6px double black;\">\r\n                        <td>\r\n                            <strong>{{ _(\"Grand Total\") }}</strong>\r\n                        </td>\r\n                        {% if doc.previous_credit %}\r\n                        <td class=\"text-right\"><strong>\r\n                            {% set sum =doc.net_total +doc.previous_credit|float %}\r\n                            {% if sum%1 != 0 %}\r\n                            {{ '%0.2f'| format(sum|float) }}\r\n                            {% else %}\r\n                            {{ sum|int }}\r\n                            {% endif %}\r\n                            M</strong>\r\n                            {% else %}\r\n                        <td class=\"text-right\"><strong> {{ '%0.2f'| format(doc.net_total|float) }} </strong>\r\n                            {% endif %}\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div style=\"border-bottom: 1px solid black; margin-top: 10mm;\">\r\n        <p>\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u043b:</p>\r\n    </div>\r\n    <div style=\"border-bottom: 1px solid black; margin-top: 10mm;\">\r\n        <p>\u041f\u043e\u043b\u0443\u0447\u0438\u043b:</p>\r\n    </div>\r\n</div>",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2024-11-05 21:54:56.565813",
 "modified_by": "Administrator",
 "module": "Retail Report",
 "name": "Taza Faktura",
 "owner": "5doganm@gmail.com",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}